<div [@routerTransition] class="login-page">
    <div class="row justify-content-md-center">
        <div class="col-md-4">
            <img class="user-avatar" src="assets/images/logo.png" width="150px" />
            <h1>Angular Demo</h1>
            <div class="col-md-12" *ngIf="isshowmainalert">
                <div *ngIf="!iserror" role="alert" class="alert alert-success alert-dismissible text-left">
                    <button aria-label="Close" class="close" (click)="hideAllAlert()" type="button"><span
                            aria-hidden="true">×</span></button>
                    {{alertmessage}}
                </div>
                <div *ngIf="iserror" role="alert" class="alert alert-danger alert-dismissible text-left">
                    <button aria-label="Close" class="close" (click)="hideAllAlert()" type="button"><span
                            aria-hidden="true">×</span></button>
                    {{alertmessage}}
                </div>
            </div>
            <form #f="ngForm" (ngSubmit)="onSubmit(f)" novalidate>
                <div class="form-content">
                    <div class="form-group">
                        <input [placeholder]="'First Name' | translate" class="form-control input-underline input-lg"
                            type="text" [(ngModel)]="UserModel.firstname" name="firstname" #reffirstname="ngModel"
                            placeholder="First Name" required autocomplete="false" />
                        <div *ngIf="!reffirstname.valid  && (reffirstname.dirty || reffirstname.touched)"
                            class="text-danger text-left">
                            <small [hidden]="!reffirstname.errors.required">
                                First Name is required
                            </small>
                        </div>
                    </div>
                    <div class="form-group">
                        <input [placeholder]="'Last Name' | translate" class="form-control input-underline input-lg"
                            type="text" [(ngModel)]="UserModel.lastname" name="lastname" #reflastname="ngModel" required
                            autocomplete="false" />
                        <div *ngIf="!reflastname.valid  && (reflastname.dirty || reflastname.touched)"
                            class="text-danger text-left">
                            <small [hidden]="!reflastname.errors.required">
                                Last Name is required
                            </small>
                        </div>
                    </div>
                    <div class="form-group">
                        <input [placeholder]="'Email' | translate" class="form-control input-underline input-lg"
                            type="text" [(ngModel)]="UserModel.email" pattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$"
                            name="email" #refemail="ngModel" required autocomplete="false" />
                        <div *ngIf="!refemail.valid  && (refemail.dirty || refemail.touched)"
                            class="text-danger text-left">
                            <p class="errmessage-height"> <small [hidden]="!refemail.errors.required">
                                    Email is required
                                </small>
                            </p>
                            <p class="errmessage-height">
                                <small *ngIf="refemail.errors.pattern" class="text-danger">
                                    Please provide a valid email address</small>
                            </p>
                        </div>
                    </div>
                    <div class="form-group">
                        <input [placeholder]="'Password' | translate" class="form-control input-underline input-lg"
                            type="password" [(ngModel)]="UserModel.password" name="password" #password="ngModel"
                            compare-password="confirmpassword" parent="true"
                            pattern="^(?=[^a-z]*[a-z])(?=[^A-Z]*[A-Z])(?=[^1-9]*[1-9])(?=.*[$#@$!%*?&]).{8,}$"
                            required />
                        <div *ngIf="(UserModel.id <= 0) && !password.valid  && (password.dirty || password.touched)"
                            class="text-danger text-left">
                            <p class="errmessage-height"> <small [hidden]="!password.errors.required">
                                    Password is required
                                </small>
                            </p>
                            <p class="errmessage-height">
                                <small *ngIf="password.errors.pattern" class="text-danger">
                                    Must be atleast 8 Characters, 1 Number, 1 Capital Case, 1 Small Case, 1 Special
                                    Character</small>
                            </p>
                        </div>
                    </div>
                    <div class="form-group">
                        <input [placeholder]="'Confirm Password' | translate"
                            class="form-control input-underline input-lg" type="password"
                            [(ngModel)]="UserModel.confirmpassword" name="confirmpassword" #confirmpassword="ngModel"
                            pattern="^(?=[^a-z]*[a-z])(?=[^A-Z]*[A-Z])(?=[^1-9]*[1-9])(?=.*[$#@$!%*?&]).{8,}$"
                            compare-password="password" required />
                        <div *ngIf="(UserModel.id <= 0) && !confirmpassword.valid  && (confirmpassword.dirty || confirmpassword.touched)"
                            class="text-danger text-left">
                            <p class="errmessage-height">
                                <small [hidden]="!confirmpassword?.errors.required">
                                    Confirm Password is required
                                </small>
                            </p>
                            <p class="errmessage-height">
                                <small *ngIf="confirmpassword.errors.pattern" class="text-danger">
                                    Must be atleast 8 Characters, 1 Number, 1 Capital Case, 1 Small Case, 1 Special
                                    Character</small>
                            </p>
                            <p class="errmessage-height">
                                <small
                                    *ngIf="((password?.errors && password?.errors.compare) || (confirmpassword?.errors && confirmpassword?.errors.compare)) && !confirmpassword?.errors.required">
                                    Confirm Password is not match
                                </small>
                            </p>
                        </div>
                    </div>
                </div>
                <button [disabled]="!f.form.valid" type="submit" class="btn rounded-btn">
                    {{ 'Register' | translate}}</button>&nbsp;
                <a [routerLink]="['/login']" class="btn rounded-btn">{{ 'Log in' | translate }}</a>
            </form>
        </div>
    </div>
</div>